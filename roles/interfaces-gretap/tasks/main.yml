---
# Tasks for network interfaces

# note: python-netaddr is required on ansible host

# todo: apt-get der entsprechenden pakete

- name: Create interfaces - gretap file
  template: src="gretap.j2" dest="/etc/network/interfaces.d/30_gretap.cfg"
  notify:
    - restart networking

# creating gretap tunnels to ffrl
- name: Create interfaces - gretap to ffrl
  template: src="gre_ffrl.j2" dest="/etc/network/interfaces.d/40_gre_ffrl.cfg"
  notify:
    - restart networking

#append line in interfaces file for reading additional config files
- name: let read interfaces from interfaces
  lineinfile: dest="/etc/network/interfaces" line="source /etc/network/interfaces.d/*.cfg"
  notify:
    - restart networking